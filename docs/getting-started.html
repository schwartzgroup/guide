<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Getting started | Joel’s lab guide</title>
  <meta name="description" content="2 Getting started | Joel’s lab guide" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Getting started | Joel’s lab guide" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Getting started | Joel’s lab guide" />
  
  
  



<meta name="date" content="2023-05-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="server-information.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a></li>
<li class="chapter" data-level="2" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting started</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html#connecting-to-the-vpn"><i class="fa fa-check"></i><b>2.1</b> Connecting to the VPN</a></li>
<li class="chapter" data-level="2.2" data-path="getting-started.html"><a href="getting-started.html#topology-of-the-lab-servers"><i class="fa fa-check"></i><b>2.2</b> Topology of the lab servers</a></li>
<li class="chapter" data-level="2.3" data-path="getting-started.html"><a href="getting-started.html#best-practices"><i class="fa fa-check"></i><b>2.3</b> Best practices</a></li>
<li class="chapter" data-level="2.4" data-path="getting-started.html"><a href="getting-started.html#connecting-to-rstudio"><i class="fa fa-check"></i><b>2.4</b> Connecting to RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="getting-started.html"><a href="getting-started.html#connecting-to-the-command-line-of-a-server"><i class="fa fa-check"></i><b>2.5</b> Connecting to the command line of a server</a></li>
<li class="chapter" data-level="2.6" data-path="getting-started.html"><a href="getting-started.html#troubleshooting-the-rstudio-server-login"><i class="fa fa-check"></i><b>2.6</b> Troubleshooting the RStudio Server login</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="server-information.html"><a href="server-information.html"><i class="fa fa-check"></i><b>3</b> Server information</a>
<ul>
<li class="chapter" data-level="3.1" data-path="server-information.html"><a href="server-information.html#server-info"><i class="fa fa-check"></i><b>3.1</b> Server attributes</a></li>
<li class="chapter" data-level="3.2" data-path="server-information.html"><a href="server-information.html#server-resource-monitor"><i class="fa fa-check"></i><b>3.2</b> Server resource monitor</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="server-information.html"><a href="server-information.html#load-average"><i class="fa fa-check"></i><b>3.2.1</b> Load average</a></li>
<li class="chapter" data-level="3.2.2" data-path="server-information.html"><a href="server-information.html#memory-utilization"><i class="fa fa-check"></i><b>3.2.2</b> Memory utilization</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="server-information.html"><a href="server-information.html#picking-a-server"><i class="fa fa-check"></i><b>3.3</b> How to pick a server to work on</a></li>
<li class="chapter" data-level="3.4" data-path="server-information.html"><a href="server-information.html#more-precise-monitoring"><i class="fa fa-check"></i><b>3.4</b> More precise monitoring</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transferring-files.html"><a href="transferring-files.html"><i class="fa fa-check"></i><b>4</b> Transferring files</a>
<ul>
<li class="chapter" data-level="4.1" data-path="transferring-files.html"><a href="transferring-files.html#simple-transfers-scp"><i class="fa fa-check"></i><b>4.1</b> Simple transfers: <code>scp</code></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="transferring-files.html"><a href="transferring-files.html#transferring-files-1"><i class="fa fa-check"></i><b>4.1.1</b> Transferring files</a></li>
<li class="chapter" data-level="4.1.2" data-path="transferring-files.html"><a href="transferring-files.html#transferring-folders"><i class="fa fa-check"></i><b>4.1.2</b> Transferring folders</a></li>
<li class="chapter" data-level="4.1.3" data-path="transferring-files.html"><a href="transferring-files.html#other-scp-options"><i class="fa fa-check"></i><b>4.1.3</b> Other <code>scp</code> options</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="transferring-files.html"><a href="transferring-files.html#large-transfers-rsync"><i class="fa fa-check"></i><b>4.2</b> Large transfers: <code>rsync</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="transferring-files.html"><a href="transferring-files.html#other-rsync-options"><i class="fa fa-check"></i><b>4.2.1</b> Other rsync options</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="transferring-files.html"><a href="transferring-files.html#interacting-with-the-cloud-rclone"><i class="fa fa-check"></i><b>4.3</b> Interacting with the cloud: <code>rclone</code></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html"><i class="fa fa-check"></i><b>5</b> Special instructions for specific software</a>
<ul>
<li class="chapter" data-level="5.1" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#gurobi"><i class="fa fa-check"></i><b>5.1</b> Gurobi</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#use"><i class="fa fa-check"></i><b>5.1.1</b> Use</a></li>
<li class="chapter" data-level="5.1.2" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#installation"><i class="fa fa-check"></i><b>5.1.2</b> Installation</a>
<ul>
<li class="chapter" data-level="5.1.2.1" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#download-gurobi-and-upload-to-the-server"><i class="fa fa-check"></i><b>5.1.2.1</b> Download Gurobi and upload to the server</a></li>
<li class="chapter" data-level="5.1.2.2" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#decompress-to-opt"><i class="fa fa-check"></i><b>5.1.2.2</b> Decompress to <code>/opt/</code></a></li>
<li class="chapter" data-level="5.1.2.3" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#enable-for-command-line-users"><i class="fa fa-check"></i><b>5.1.2.3</b> Enable for command-line users</a></li>
<li class="chapter" data-level="5.1.2.4" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#enable-for-rstudio-server-users"><i class="fa fa-check"></i><b>5.1.2.4</b> Enable for RStudio Server users</a></li>
<li class="chapter" data-level="5.1.2.5" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#install-the-r-package"><i class="fa fa-check"></i><b>5.1.2.5</b> Install the R package</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#fbkmr"><i class="fa fa-check"></i><b>5.2</b> fbkmr</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#installing-dependencies"><i class="fa fa-check"></i><b>5.2.1</b> Installing dependencies</a></li>
<li class="chapter" data-level="5.2.2" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#installing-fbkmr"><i class="fa fa-check"></i><b>5.2.2</b> Installing <code>fbkmr</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#rqpd"><i class="fa fa-check"></i><b>5.3</b> RQPD</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#clone-the-rqpd-subversion-repository"><i class="fa fa-check"></i><b>5.3.1</b> Clone the RQPD Subversion repository</a></li>
<li class="chapter" data-level="5.3.2" data-path="special-instructions-for-specific-software.html"><a href="special-instructions-for-specific-software.html#install"><i class="fa fa-check"></i><b>5.3.2</b> Install</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="datasets-exposures.html"><a href="datasets-exposures.html"><i class="fa fa-check"></i><b>6</b> Datasets: Exposures</a></li>
<li class="chapter" data-level="7" data-path="datasets-outcomes.html"><a href="datasets-outcomes.html"><i class="fa fa-check"></i><b>7</b> Datasets: Outcomes</a></li>
<li class="chapter" data-level="8" data-path="datasets-covariates.html"><a href="datasets-covariates.html"><i class="fa fa-check"></i><b>8</b> Datasets: Covariates</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Joel’s lab guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="getting-started" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">2</span> Getting started<a href="getting-started.html#getting-started" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This section will help you get started using the lab servers.</p>
<div id="connecting-to-the-vpn" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Connecting to the VPN<a href="getting-started.html#connecting-to-the-vpn" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you’re not currently in the 401 Park / Landmark building, you’ll have to first connect to the Harvard VPN using your HarvardKey credentials to access the lab servers. If you don’t have the VPN client already, you can download it at <a href="https://vpn.harvard.edu" class="uri">https://vpn.harvard.edu</a>. AnyConnect functionality comes pre-installed in Linux systems (OpenConnect -&gt; Cisco AnyConnect in the NetworkManager VPN manager).</p>
<p>The VPN address is <code>vpn.harvard.edu</code> and the tunnel is <code>#HSPH</code> (add this to the end of your HarvardKey login, e.g. <code>your_harvardkey_name@g.harvard.edu#HSPH</code>). You wil be prompted to enter two passwords: first password will be your HarvardKey password and the second password will be <code>push</code>, which will activate a Duo push on your phone.</p>
<p>Some notes on the VPN:</p>
<ul>
<li>If you only have a FASRC VPN account, you’ll need to get a separate, generic Harvard VPN account. FASRC VPN accounts seem to be unable to access the lab servers.</li>
<li>If you’re still having trouble, try to email IT and ask to be added to the HSPH tunnel as your account might not yet have access.</li>
</ul>
</div>
<div id="topology-of-the-lab-servers" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Topology of the lab servers<a href="getting-started.html#topology-of-the-lab-servers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The lab’s servers consist primarily of two categories of servers:</p>
<ol style="list-style-type: decimal">
<li>Work servers, which have high CPU and memory capacity, and</li>
<li>Storage servers, which have high disk capacity but low CPU and memory capacity.</li>
</ol>
<p>Each of the storage servers is accessible from the <code>/media/</code> directory of each work server. For example, the <code>qnap4</code> storage server is available by accessing <code>/media/qnap4/</code> on any of the work servers, <code>gate</code> is available at <code>/media/gate</code>, etc.</p>
<p>The structure of <code>/media/</code> is set up such that it is identical on each of the work servers, so code that references e.g. <code>/media/qnap4/some-file.txt</code> will be able to run without modification on any of the work servers.</p>
<p>For detailed information about what servers are available and what resources each possesses, see <a href="server-information.html#server-info">the section on server attributes</a>.</p>
</div>
<div id="best-practices" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Best practices<a href="getting-started.html#best-practices" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In general, you will want to do your work (i.e. running R code) on one of the work servers and save data to / load data from one or more of the storage servers. The connections of the servers are fast enough that speed shouldn’t be an issue.</p>
<p>The work servers have limited local space, and this space should generally be reserved for R libraries, RStudio temporary files, etc. which are necessary for the RStudio Server to function. It’s OK to keep a few small files in your <code>/home/</code> directory (which is unique to each of the work servers), but don’t go too crazy!</p>
<p>For guidance on which server to pick for your work, see <a href="server-information.html#picking-a-server">the section on how to pick a server to work on</a>.</p>
</div>
<div id="connecting-to-rstudio" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Connecting to RStudio<a href="getting-started.html#connecting-to-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>RStudio is available on port <code>8787</code> of any of the work. You can access RStudio directly by clicking on one of the links below (helpful to bookmark!):</p>
<ul>
<li>tiamat: <a href="http://10.174.192.10:8787/" class="uri">http://10.174.192.10:8787/</a></li>
<li>mithra: <a href="http://10.174.192.11:8787/" class="uri">http://10.174.192.11:8787/</a></li>
<li>dagda: <a href="http://10.174.192.12:8787/" class="uri">http://10.174.192.12:8787/</a></li>
<li>shiva: <a href="http://10.174.192.14:8787/" class="uri">http://10.174.192.14:8787/</a></li>
</ul>
</div>
<div id="connecting-to-the-command-line-of-a-server" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Connecting to the command line of a server<a href="getting-started.html#connecting-to-the-command-line-of-a-server" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In some cases, you may need to connect directly to the server command lines rather than the RStudio Servers, e.g. to kill jobs, install software, move around a lot of files, etc. RStudio Server has a Terminal tab next to the Console tab that you can use, but it may be more convenient to connect directly via SSH (“Secure Shell”, the protocol for connecting to Linux and Unix servers).</p>
<p>To connect via SSH on macOS or Linux, open the terminal application and type <code>ssh your_username@server_ip</code>, e.g. <code>ssh jharvard@10.174.192.10</code>.</p>
<p>To connect via SSH on Windows, you can either:</p>
<ul>
<li><a href="https://www.putty.org/">Install PuTTY</a>, <a href="https://mobaxterm.mobatek.net/">MobaXTerm</a>, or some other terminal client and then enter the server IP address into the main dialog, or</li>
<li><a href="https://learn.microsoft.com/en-us/windows/wsl/install">Install Linux</a> and then type <code>ssh your_username@server_ip</code> from the Linux terminal</li>
</ul>
</div>
<div id="troubleshooting-the-rstudio-server-login" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Troubleshooting the RStudio Server login<a href="getting-started.html#troubleshooting-the-rstudio-server-login" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Several issues can arise when using the RStudio Server related to saturating the CPU, memory, or I/O. If you’re having issues logging in (but the RStudio login page shows up), you can try to log in to the command line and try the following (listed in order of likeliness), or you can post to the lab Google Group:</p>
<ul>
<li>Running jobs: Use <code>htop</code> and press F4 to filter by <code>rsession -u [your username]</code> to see if you have a job open. If you see any jobs using up 100% CPU then likely they’re holding up the login process and the server is waiting for whatever you were running the last time you logged on to finish. If this is the case, you can either wait or press F9 to open the kill job menu and send signal 9 (SIGKILL) to terminate immediately.</li>
<li>Full memory: Use <code>htop</code> to see if the Mem bar is full. If it is, then your session is likely swapping which means it’s processing data on-disk instead of in-memory. This is extremely slow. If all servers look like this and the CPUs look idle despite the memory usage, feel free to email me and I can reach out to the people logged in to the RStudio Server and see if they’re still running anything. Sometimes people forget about their jobs (no problem with that, of course!) and I can kill them to free up some memory.</li>
<li>Large session cache: Use <code>du -sh ~/.local/share/rstudio/sessions/</code> to see the size of your saved sessions. Every time you log in, RStudio Server restores your last session using these files. If it’s bigger than say 10GB and you don’t want to wait you can use <code>rm -rf ~/.local/share/rstudio/sessions/</code> to remove them.</li>
<li>Unmounted drives: Use <code>mount -a</code> and look for qnap, qnap2, qnap3, qnap4, gate (whichever you are using) and make sure the drive is there. If it’s not, then one of the network drives disconnected. Your process likely got zombified and the server needs to be restarted.</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="server-information.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsubsection"
}
});
});
</script>

</body>

</html>
